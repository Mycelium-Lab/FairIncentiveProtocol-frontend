import { Component } from "react";
import totalNfts from '../../media/dashboard/total_nfts.svg'
import nftsAvalible from '../../media/dashboard/nft_available.svg'
import newNfts from '../../media/dashboard/nft_new.svg'
import { getBearerHeader } from "../../utils/getBearerHeader";
import { config } from "../../utils/config";

class NftsInfo extends Component {
    constructor(props) {
        super(props)
        this.state = {
            total: 0,
            total_24h: 0,
            percent_24h: 0
        }
    }

    async componentDidMount() {
        await this.getTotal()
        await this.getTotal24h()
    }

    async getTotal() {
        try {
            const headers = new Headers();
            headers.append("Authorization", getBearerHeader())

            const requestOptions = {
                method: 'GET',
                headers: headers,
                redirect: 'follow'
              };
            const res = await fetch(`${config.api}/stat/total_nfts`, requestOptions)
            const json = await res.json()
            this.setState({
                total: json.body.data
            })
        } catch (error) {
            alert(error)
        }
    }
    
    async getTotal24h() {
        try {
            const headers = new Headers();
            headers.append("Authorization", getBearerHeader())

            const requestOptions = {
                method: 'GET',
                headers: headers,
                redirect: 'follow'
              };
            const res = await fetch(`${config.api}/stat/total_nfts_24h`, requestOptions)
            const json = await res.json()
            const twentyFourHoursAgo = parseInt(json.body.data.twentyFourHoursAgo)
            const fortyEightHoursAgo = parseInt(json.body.data.fortyEightHoursAgo)
            const percent24h = (twentyFourHoursAgo * 100 / fortyEightHoursAgo) - 100
            this.setState({
                total_24h: json.body.data.twentyFourHoursAgo,
                percent_24h: percent24h
            })
        } catch (error) {
            alert(error)
        }
    }

    render() {
        return (
            <>
             <ul className="info__list unlist">
                <li className="info__list-item_white info__list-item">
                    <div className="info__content_left">
                        <span className="info__content-amount">{this.state.total}</span>
                        <span className="info__content-desc">Total distributed</span>
                    </div>
                    <div className="info__content_right">
                        {/* <img src={totalNfts}></img> */}
                        <svg width="71" height="70" viewBox="0 0 71 70" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <ellipse cx="35.096" cy="35" rx="35.096" ry="35" fill="#FFF5D9"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M34.5938 13.1583C33.544 13.7477 17.3238 23.1413 16.8662 23.425C16.5501 23.6209 16.2259 23.9255 16.1457 24.1018C16.0469 24.3192 16 27.8489 16 35.071V45.7195L16.3774 46.1281C16.5848 46.3528 18.7616 47.6948 21.2145 49.1103C23.6674 50.5259 27.7423 52.8801 30.2701 54.342C32.9701 55.9036 35.0109 57 35.2173 57C35.6738 57 53.5347 46.6904 54.0452 46.1322L54.4225 45.7195V35.071C54.4225 27.7932 54.376 24.3201 54.2756 24.0991C54.0899 23.6907 54.9996 24.2431 44.5497 18.1943C39.0049 14.9847 35.4348 12.9975 35.2185 13C35.0259 13.0023 34.7447 13.0736 34.5938 13.1583ZM43.5819 20.614L51.7467 25.339V34.9979V44.6568L43.5819 49.3819C39.0913 51.9806 35.3282 54.1082 35.2196 54.1096C35.0551 54.1118 27.4245 49.7527 20.3568 45.619L18.6072 44.5958V34.9966V25.3975L20.4941 24.2971C28.8722 19.411 35.0391 15.8874 35.2113 15.888C35.3245 15.8885 39.0913 18.0152 43.5819 20.614ZM22.1631 29.8112C21.6568 30.2008 21.6262 30.4958 21.6262 34.9957C21.6262 40.3123 21.6385 40.3609 22.9856 40.3609C23.3604 40.3609 23.5895 40.265 23.8322 40.0064C24.1552 39.6621 24.1667 39.5741 24.2334 36.9623L24.302 34.2727L25.4458 37.0289C26.0748 38.5447 26.7272 39.9146 26.8954 40.073C27.1593 40.3213 27.3717 40.3609 28.4379 40.3609C29.5898 40.3609 29.6972 40.3366 30.0072 40.006L30.3398 39.6512V34.9979V30.3446L30.0072 29.9899C29.5398 29.4912 28.6701 29.4911 28.2024 29.9894C27.8787 30.3343 27.868 30.4179 27.8012 33.0921L27.7326 35.8403L26.5818 33.047C25.949 31.5107 25.3053 30.1146 25.1514 29.9443C24.8998 29.666 24.7465 29.6353 23.6263 29.6393C22.8645 29.6419 22.2964 29.7088 22.1631 29.8112ZM33.0053 29.9899L32.6726 30.3446V34.9979V39.6512L33.0053 40.006C33.2594 40.2772 33.47 40.3598 33.8972 40.3565C34.932 40.3484 35.2113 39.8836 35.2113 38.1698V36.9231H36.8641C38.4362 36.9231 38.5336 36.9066 38.8539 36.5855C39.3219 36.1165 39.3219 35.2545 38.8539 34.7855C38.5336 34.4644 38.4362 34.4479 36.8641 34.4479H35.2113V33.279V32.1102H37.5502C39.8508 32.1102 39.8948 32.1047 40.2261 31.7726C40.4741 31.5242 40.563 31.2865 40.563 30.8726C40.563 30.4586 40.4741 30.2209 40.2261 29.9725L39.8893 29.6349H36.6137H33.338L33.0053 29.9899ZM41.86 29.9988C41.4085 30.487 41.4158 31.1358 41.8788 31.687C42.2167 32.0894 42.2839 32.1102 43.251 32.1102H44.268V35.7611C44.268 40.2199 44.3097 40.3609 45.6275 40.3609C46.0022 40.3609 46.2313 40.265 46.474 40.0063L46.8066 39.6516L46.8471 35.8809L46.8876 32.1102H47.8343C48.6351 32.1102 48.8399 32.0594 49.163 31.781C49.6739 31.3405 49.6983 30.5018 49.2153 29.9864L48.8857 29.6349H45.5412H42.1966L41.86 29.9988Z" fill="#FF9F43"/>
                        </svg>

                    </div>
                </li>
                <li className="info__list-item_white info__list-item">
                    <div className="info__content_left">
                        <div className="info__content-amount-info">
                            <span className="info__content-amount">âˆž</span>
                            {/* <a href="#" className="info__content-mint">[mint]</a>  */}
                        </div>
                        <span className="info__content-desc">Available to distribute</span>
                    </div>
                    <div className="info__content_right">
                        <svg width="71" height="70" viewBox="0 0 71 70" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <ellipse cx="35.096" cy="35" rx="35.096" ry="35" fill="#FFF5D9"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M33.3679 20.1223C32.5567 20.5777 20.0229 27.8365 19.6693 28.0557C19.4251 28.2071 19.1745 28.4425 19.1126 28.5787C19.0363 28.7467 19 31.4742 19 37.0548V45.2833L19.2916 45.599C19.4519 45.7726 21.134 46.8096 23.0294 47.9034C24.9248 48.9973 28.0736 50.8165 30.0269 51.9461C32.1133 53.1528 33.6903 54 33.8497 54C34.2025 54 48.0041 46.0335 48.3985 45.6022L48.6901 45.2833V37.0548C48.6901 31.4311 48.6542 28.7473 48.5766 28.5766C48.4331 28.261 49.136 28.6878 41.0612 24.0138C36.7765 21.5337 34.0178 19.9981 33.8507 20C33.7018 20.0018 33.4845 20.0569 33.3679 20.1223ZM40.3133 25.8835L46.6224 29.5347V36.9984V44.4621L40.3133 48.1133C36.8432 50.1214 33.9354 51.7655 33.8515 51.7665C33.7244 51.7682 27.828 48.3998 22.3666 45.2056L21.0147 44.4149V36.9973V29.5799L22.4727 28.7296C28.9467 24.9539 33.712 22.2311 33.8451 22.2317C33.9326 22.232 36.8432 23.8754 40.3133 25.8835ZM23.7624 32.9905C23.3711 33.2915 23.3475 33.5195 23.3475 36.9967C23.3475 41.1049 23.357 41.1425 24.398 41.1425C24.6876 41.1425 24.8647 41.0684 25.0521 40.8686C25.3017 40.6025 25.3106 40.5345 25.3622 38.5163L25.4152 36.438L26.299 38.5678C26.7851 39.7391 27.2892 40.7976 27.4192 40.92C27.6231 41.1119 27.7872 41.1425 28.6111 41.1425C29.5012 41.1425 29.5842 41.1237 29.8238 40.8683L30.0808 40.5941V36.9984V33.4027L29.8238 33.1285C29.4626 32.7432 28.7905 32.7431 28.4292 33.1282C28.179 33.3947 28.1708 33.4593 28.1191 35.5258L28.0661 37.6494L27.1769 35.4909C26.6878 34.3038 26.1904 33.2249 26.0716 33.0934C25.8771 32.8783 25.7586 32.8546 24.8931 32.8577C24.3044 32.8597 23.8654 32.9113 23.7624 32.9905ZM32.1404 33.1285L31.8834 33.4027V36.9984V40.5941L32.1404 40.8683C32.3368 41.0778 32.4996 41.1417 32.8297 41.1391C33.6293 41.1329 33.8451 40.7737 33.8451 39.4494V38.486H35.1223C36.337 38.486 36.4123 38.4733 36.6598 38.2252C37.0215 37.8627 37.0215 37.1967 36.6598 36.8342C36.4123 36.5861 36.337 36.5734 35.1223 36.5734H33.8451V35.6702V34.7669H35.6525C37.4302 34.7669 37.4642 34.7627 37.7202 34.5061C37.9118 34.3142 37.9805 34.1305 37.9805 33.8106C37.9805 33.4908 37.9118 33.307 37.7202 33.1151L37.46 32.8543H34.9288H32.3976L32.1404 33.1285ZM38.9827 33.1354C38.6339 33.5127 38.6395 34.014 38.9973 34.44C39.2583 34.7509 39.3103 34.7669 40.0576 34.7669H40.8435V37.5881C40.8435 41.0335 40.8757 41.1425 41.894 41.1425C42.1835 41.1425 42.3605 41.0684 42.5481 40.8685L42.8051 40.5945L42.8364 37.6807L42.8677 34.7669H43.5992C44.2181 34.7669 44.3763 34.7277 44.626 34.5126C45.0208 34.1722 45.0396 33.5241 44.6664 33.1259L44.4117 32.8543H41.8273H39.2428L38.9827 33.1354Z" fill="#FF9F43"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M58.5607 16.4393C59.1464 17.0251 59.1464 17.9749 58.5607 18.5607L52.5607 24.5607C51.9749 25.1464 51.0251 25.1464 50.4393 24.5607L47.4393 21.5607C46.8536 20.9749 46.8536 20.0251 47.4393 19.4393C48.0251 18.8536 48.9749 18.8536 49.5607 19.4393L51.5 21.3787L56.4393 16.4393C57.0251 15.8536 57.9749 15.8536 58.5607 16.4393Z" fill="#FF9F43"/>
                        </svg>

                    </div>
                </li>
                <li className="info__list-item_white info__list-item">
                    <div className="info__content_left">
                        <div className="info__content-amount-info_new info__content-amount-info">
                            <span className="info__content-amount">{this.state.total_24h}</span><span className="info__content-dymanic_positive info__content-dymanic">{this.state.percent_24h}%</span>
                        </div>
                        <span className="info__content-desc">Distributed last 24h</span>
                    </div>
                    <div className="info__content_right">
                    {/* <img src={newNfts}></img> */}
                    <svg width="71" height="70" viewBox="0 0 71 70" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <ellipse cx="35.096" cy="35" rx="35.096" ry="35" fill="#FFF5D9"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M34.3679 21.1223C33.5567 21.5777 21.0229 28.8365 20.6693 29.0557C20.4251 29.2071 20.1745 29.4425 20.1126 29.5787C20.0363 29.7467 20 32.4742 20 38.0548V46.2833L20.2916 46.599C20.4519 46.7726 22.134 47.8096 24.0294 48.9034C25.9248 49.9973 29.0736 51.8165 31.0269 52.9461C33.1133 54.1528 34.6903 55 34.8497 55C35.2025 55 49.0041 47.0335 49.3985 46.6022L49.6901 46.2833V38.0548C49.6901 32.4311 49.6542 29.7473 49.5766 29.5766C49.4331 29.261 50.136 29.6878 42.0612 25.0138C37.7765 22.5337 35.0178 20.9981 34.8507 21C34.7018 21.0018 34.4845 21.0569 34.3679 21.1223ZM41.3133 26.8835L47.6224 30.5347V37.9984V45.4621L41.3133 49.1133C37.8432 51.1214 34.9354 52.7655 34.8515 52.7665C34.7244 52.7682 28.828 49.3998 23.3666 46.2056L22.0147 45.4149V37.9973V30.5799L23.4727 29.7296C29.9467 25.9539 34.712 23.2311 34.8451 23.2317C34.9326 23.232 37.8432 24.8754 41.3133 26.8835ZM24.7624 33.9905C24.3711 34.2915 24.3475 34.5195 24.3475 37.9967C24.3475 42.1049 24.357 42.1425 25.398 42.1425C25.6876 42.1425 25.8647 42.0684 26.0521 41.8686C26.3017 41.6025 26.3106 41.5345 26.3622 39.5163L26.4152 37.438L27.299 39.5678C27.7851 40.7391 28.2892 41.7976 28.4192 41.92C28.6231 42.1119 28.7872 42.1425 29.6111 42.1425C30.5012 42.1425 30.5842 42.1237 30.8238 41.8683L31.0808 41.5941V37.9984V34.4027L30.8238 34.1285C30.4626 33.7432 29.7905 33.7431 29.4292 34.1282C29.179 34.3947 29.1708 34.4593 29.1191 36.5258L29.0661 38.6494L28.1769 36.4909C27.6878 35.3038 27.1904 34.2249 27.0716 34.0934C26.8771 33.8783 26.7586 33.8546 25.8931 33.8577C25.3044 33.8597 24.8654 33.9113 24.7624 33.9905ZM33.1404 34.1285L32.8834 34.4027V37.9984V41.5941L33.1404 41.8683C33.3368 42.0778 33.4996 42.1417 33.8297 42.1391C34.6293 42.1329 34.8451 41.7737 34.8451 40.4494V39.486H36.1223C37.337 39.486 37.4123 39.4733 37.6598 39.2252C38.0215 38.8627 38.0215 38.1967 37.6598 37.8342C37.4123 37.5861 37.337 37.5734 36.1223 37.5734H34.8451V36.6702V35.7669H36.6525C38.4302 35.7669 38.4642 35.7627 38.7202 35.5061C38.9118 35.3142 38.9805 35.1305 38.9805 34.8106C38.9805 34.4908 38.9118 34.307 38.7202 34.1151L38.46 33.8543H35.9288H33.3976L33.1404 34.1285ZM39.9827 34.1354C39.6339 34.5127 39.6395 35.014 39.9973 35.44C40.2583 35.7509 40.3103 35.7669 41.0576 35.7669H41.8435V38.5881C41.8435 42.0335 41.8757 42.1425 42.894 42.1425C43.1835 42.1425 43.3605 42.0684 43.5481 41.8685L43.8051 41.5945L43.8364 38.6807L43.8677 35.7669H44.5992C45.2181 35.7669 45.3763 35.7277 45.626 35.5126C46.0208 35.1722 46.0396 34.5241 45.6664 34.1259L45.4117 33.8543H42.8273H40.2428L39.9827 34.1354Z" fill="#FF9F43"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M52.25 15.25C52.25 14.5596 51.6904 14 51 14C50.3096 14 49.75 14.5596 49.75 15.25V17.75H47.25C46.5596 17.75 46 18.3096 46 19C46 19.6904 46.5596 20.25 47.25 20.25H49.75V22.75C49.75 23.4404 50.3096 24 51 24C51.6904 24 52.25 23.4404 52.25 22.75V20.25H54.75C55.4404 20.25 56 19.6904 56 19C56 18.3096 55.4404 17.75 54.75 17.75H52.25V15.25Z" fill="#FF9F43"/>
                    </svg>

                    </div>
                </li>
            </ul>
            </>
        )
    }
}

export default NftsInfo