import { Component } from "react";
import total from '../../media/dashboard/total_rewards.svg'
import rewarded from '../../media/dashboard/rewarded.svg'
import newRewards from '../../media/dashboard/new_rewards.svg'
import { getBearerHeader } from "../../utils/getBearerHeader";
import { config } from "../../utils/config";

class RewardsInfo extends Component {
    constructor(props) {
        super(props)
        this.state = {
            total: 0,
            total_users: 0,
            total_rewarded_24h: 0
        }
    }

    async componentDidMount() {
        await this.getTotalUsers()
        await this.getTotalRewarded24h()
    }

    async getTotalUsers() {
        try {
            const headers = new Headers();
            headers.append("Authorization", getBearerHeader())

            const requestOptions = {
                method: 'GET',
                headers: headers,
                redirect: 'follow'
              };
            const res = await fetch(`${config.api}/stat/rewarded_users`, requestOptions)
            const json = await res.json()
            this.setState({
                total_users: json.body.data
            })
        } catch (error) {
            alert(error)
        }
    }

    async getTotalRewarded24h() {
        try {
            const headers = new Headers();
            headers.append("Authorization", getBearerHeader())

            const requestOptions = {
                method: 'GET',
                headers: headers,
                redirect: 'follow'
              };
            const res = await fetch(`${config.api}/stat/rewarded_24h`, requestOptions)
            const json = await res.json()
            this.setState({
                total_rewarded_24h: json.body.data
            })
        } catch (error) {
            alert(error)
        }
    }

    render() {
        return (
            <>
             <ul className="info__list unlist">
                <li className="info__list-item_white info__list-item">
                    <div className="info__content_left">
                        <span className="info__content-amount">{this.props.rewards_total_count}</span>
                        <span className="info__content-desc">The total number of rewards</span>
                    </div>
                    <div className="info__content_right">
                        {/* <img src={total}></img> */}
                        <svg width="71" height="70" viewBox="0 0 71 70" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <ellipse cx="35.096" cy="35" rx="35.096" ry="35" fill="#FFF5D9"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M27.6192 30C27.6192 25.8579 30.9862 22.5 35.1397 22.5C39.2932 22.5 42.6603 25.8579 42.6603 30C42.6603 32.6018 41.3318 34.8942 39.3143 36.2394C39.2428 36.2763 39.1756 36.3197 39.1133 36.3688C37.9603 37.0858 36.5985 37.5 35.1397 37.5C30.9862 37.5 27.6192 34.1421 27.6192 30ZM38.8826 39.2801C37.7261 39.7444 36.4628 40 35.1397 40C33.8171 40 32.5543 39.7446 31.3982 39.2807L30.4575 46.3439L34.4948 43.9281C34.8918 43.6906 35.3877 43.6906 35.7846 43.9281L39.8224 46.3442L38.8826 39.2801ZM29.0474 37.9434C26.6551 36.1158 25.1123 33.2376 25.1123 30C25.1123 24.4772 29.6017 20 35.1397 20C40.6777 20 45.1671 24.4772 45.1671 30C45.1671 33.2369 43.625 36.1146 41.2334 37.9423L42.6494 48.5856C42.7127 49.0614 42.4972 49.5313 42.095 49.7948C41.6927 50.0583 41.1747 50.0688 40.762 49.8219L35.1397 46.4577L29.5175 49.8219C29.1048 50.0688 28.5867 50.0583 28.1844 49.7947C27.7821 49.5312 27.5667 49.0612 27.6301 48.5854L29.0474 37.9434Z" fill="#FF9F43"/>
                            <path d="M35.1329 34.375L36.498 31.3543L39.5269 30.007L36.498 28.6457L35.1329 25.625L33.7819 28.6457L30.7529 30.007L33.7795 31.3567L35.1329 34.375Z" fill="#FF9F43"/>
                        </svg>

                    </div>
                </li>
                <li className="info__list-item_white info__list-item">
                    <div className="info__content_left">
                        <span className="info__content-amount">{this.state.total_users}</span>
                        <span className="info__content-desc">Users rewarded</span>
                    </div>
                    <div className="info__content_right">
                        {/* <img src={rewarded}></img> */}
                        <svg width="71" height="70" viewBox="0 0 71 70" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <ellipse cx="35.096" cy="35" rx="35.096" ry="35" fill="#FFF5D9"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M19.2496 40.1967C20.66 38.7902 22.5729 38 24.5674 38H35.0962C37.0908 38 39.0037 38.7902 40.4141 40.1967C41.8245 41.6032 42.6168 43.5109 42.6168 45.5V48.5C42.6168 49.3284 41.9434 50 41.1127 50C40.282 50 39.6086 49.3284 39.6086 48.5V45.5C39.6086 44.3065 39.1332 43.1619 38.2869 42.318C37.4407 41.4741 36.293 41 35.0962 41H24.5674C23.3707 41 22.223 41.4741 21.3767 42.318C20.5305 43.1619 20.0551 44.3065 20.0551 45.5V48.5C20.0551 49.3284 19.3817 50 18.551 50C17.7203 50 17.0469 49.3284 17.0469 48.5V45.5C17.0469 43.5109 17.8392 41.6032 19.2496 40.1967Z" fill="#FF9F43"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M29.8321 23C27.34 23 25.3198 25.0147 25.3198 27.5C25.3198 29.9853 27.34 32 29.8321 32C32.3242 32 34.3444 29.9853 34.3444 27.5C34.3444 25.0147 32.3242 23 29.8321 23ZM22.3115 27.5C22.3115 23.3579 25.6786 20 29.8321 20C33.9856 20 37.3527 23.3579 37.3527 27.5C37.3527 31.6421 33.9856 35 29.8321 35C25.6786 35 22.3115 31.6421 22.3115 27.5Z" fill="#FF9F43"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M43.3687 31C43.3687 28.9289 45.0522 27.25 47.1289 27.25C49.2057 27.25 50.8892 28.9289 50.8892 31C50.8892 32.3009 50.225 33.4471 49.2162 34.1197C49.1805 34.1381 49.1469 34.1599 49.1157 34.1844C48.5392 34.5429 47.8583 34.75 47.1289 34.75C45.0522 34.75 43.3687 33.0711 43.3687 31ZM49.0004 35.6401C48.4221 35.8722 47.7905 36 47.1289 36C46.4676 36 45.8362 35.8723 45.2582 35.6403L44.7878 39.172L46.8065 37.9641C47.005 37.8453 47.2529 37.8453 47.4514 37.9641L49.4703 39.1721L49.0004 35.6401ZM44.0828 34.9717C42.8866 34.0579 42.1152 32.6188 42.1152 31C42.1152 28.2386 44.3599 26 47.1289 26C49.8979 26 52.1427 28.2386 52.1427 31C52.1427 32.6185 51.3716 34.0573 50.1758 34.9711L50.8838 40.2928C50.9154 40.5307 50.8077 40.7657 50.6066 40.8974C50.4054 41.0291 50.1464 41.0344 49.9401 40.9109L47.1289 39.2289L44.3178 40.9109C44.1115 41.0344 43.8524 41.0291 43.6513 40.8974C43.4501 40.7656 43.3424 40.5306 43.3741 40.2927L44.0828 34.9717Z" fill="#FF9F43"/>
                            <path d="M47.0204 33.8333L47.928 31.8196L49.9417 30.9214L47.928 30.0138L47.0204 28L46.1222 30.0138L44.1084 30.9214L46.1206 31.8211L47.0204 33.8333Z" fill="#FF9F43"/>
                        </svg>

                    </div>
                </li>
                <li className="info__list-item_white info__list-item">
                    <div className="info__content_left">
                        <span className="info__content-amount">{this.state.total_rewarded_24h}</span>
                        <span className="info__content-desc">Rewards in the last 24 hours</span>
                    </div>
                    <div className="info__content_right">
                    {/* <img src={newRewards}></img> */}
                    <svg width="71" height="70" viewBox="0 0 71 70" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <ellipse cx="35.096" cy="35" rx="35.096" ry="35" fill="#FFF5D9"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M26.5723 30C26.5723 25.8579 29.9394 22.5 34.0928 22.5C38.2463 22.5 41.6134 25.8579 41.6134 30C41.6134 32.6018 40.2849 34.8942 38.2675 36.2394C38.1959 36.2763 38.1287 36.3197 38.0664 36.3688C36.9135 37.0858 35.5517 37.5 34.0928 37.5C29.9394 37.5 26.5723 34.1421 26.5723 30ZM37.8357 39.2801C36.6792 39.7444 35.416 40 34.0928 40C32.7702 40 31.5074 39.7446 30.3513 39.2807L29.4106 46.3439L33.448 43.9281C33.8449 43.6906 34.3408 43.6906 34.7377 43.9281L38.7755 46.3442L37.8357 39.2801ZM28.0006 37.9434C25.6082 36.1158 24.0654 33.2376 24.0654 30C24.0654 24.4772 28.5549 20 34.0928 20C39.6308 20 44.1203 24.4772 44.1203 30C44.1203 33.2369 42.5781 36.1146 40.1865 37.9423L41.6025 48.5856C41.6658 49.0614 41.4504 49.5313 41.0481 49.7948C40.6458 50.0583 40.1278 50.0688 39.7151 49.8219L34.0928 46.4577L28.4706 49.8219C28.0579 50.0688 27.5398 50.0583 27.1375 49.7947C26.7353 49.5312 26.5198 49.0612 26.5832 48.5854L28.0006 37.9434Z" fill="#FF9F43"/>
                        <path d="M44.1334 42.4308C43.9555 42.4308 43.8249 42.3905 43.7415 42.3098C43.6636 42.2234 43.6247 42.0995 43.6247 41.9381C43.6247 41.8401 43.6497 41.745 43.6998 41.6528C43.7498 41.5606 43.8221 41.4627 43.9166 41.3589L45.5926 39.509C45.8483 39.2324 46.0318 38.9817 46.143 38.7569C46.2541 38.5264 46.3097 38.2959 46.3097 38.0654C46.3097 37.7772 46.2208 37.5582 46.0429 37.4084C45.8706 37.2585 45.6176 37.1836 45.2841 37.1836C45.0951 37.1836 44.9061 37.2124 44.7171 37.2701C44.5281 37.3219 44.3363 37.4141 44.1417 37.5467C44.0417 37.6158 43.9471 37.6447 43.8582 37.6331C43.7748 37.6216 43.6998 37.5841 43.6331 37.5207C43.5719 37.4574 43.5302 37.3796 43.508 37.2873C43.4858 37.1951 43.4885 37.1029 43.5163 37.0107C43.5497 36.9127 43.6164 36.8292 43.7165 36.76C43.9555 36.5929 44.2223 36.4661 44.5169 36.3797C44.8171 36.2932 45.1173 36.25 45.4175 36.25C45.84 36.25 46.1958 36.3163 46.4848 36.4488C46.7739 36.5814 46.9935 36.7744 47.1436 37.028C47.2937 37.2816 47.3687 37.5899 47.3687 37.953C47.3687 38.195 47.3298 38.4313 47.252 38.6618C47.1797 38.8923 47.0657 39.1257 46.9101 39.362C46.76 39.5983 46.5627 39.849 46.3181 40.1141L44.7504 41.8084V41.5145H47.2019C47.352 41.5145 47.466 41.552 47.5438 41.6269C47.6216 41.7018 47.6606 41.8142 47.6606 41.964C47.6606 42.1139 47.6216 42.2291 47.5438 42.3098C47.466 42.3905 47.352 42.4308 47.2019 42.4308H44.1334Z" fill="#FF9F43"/>
                        <path d="M51.468 42.5C51.3012 42.5 51.1706 42.4539 51.0761 42.3617C50.9816 42.2637 50.9343 42.1254 50.9343 41.9467V41.2725H48.8747C48.7024 41.2725 48.5634 41.235 48.4578 41.1601C48.3577 41.0852 48.3077 40.967 48.3077 40.8057C48.3077 40.7135 48.3299 40.6126 48.3744 40.5031C48.4244 40.3936 48.5106 40.2495 48.6329 40.0709L50.9176 36.639C50.9955 36.518 51.0816 36.4258 51.1761 36.3624C51.2706 36.299 51.379 36.2673 51.5013 36.2673C51.6459 36.2673 51.7654 36.3134 51.8599 36.4056C51.9544 36.492 52.0017 36.6304 52.0017 36.8205V40.3562H52.4102C52.5714 40.3562 52.691 40.3965 52.7688 40.4772C52.8522 40.5521 52.8939 40.6645 52.8939 40.8143C52.8939 40.9642 52.8522 41.0794 52.7688 41.1601C52.691 41.235 52.5714 41.2725 52.4102 41.2725H52.0017V41.9467C52.0017 42.1254 51.9544 42.2637 51.8599 42.3617C51.7654 42.4539 51.6348 42.5 51.468 42.5ZM50.9343 40.3562V37.6591H51.1761L49.2083 40.6501V40.3562H50.9343Z" fill="#FF9F43"/>
                        <path d="M44.1334 42.4308C43.9555 42.4308 43.8249 42.3905 43.7415 42.3098C43.6636 42.2234 43.6247 42.0995 43.6247 41.9381C43.6247 41.8401 43.6497 41.745 43.6998 41.6528C43.7498 41.5606 43.8221 41.4627 43.9166 41.3589L45.5926 39.509C45.8483 39.2324 46.0318 38.9817 46.143 38.7569C46.2541 38.5264 46.3097 38.2959 46.3097 38.0654C46.3097 37.7772 46.2208 37.5582 46.0429 37.4084C45.8706 37.2585 45.6176 37.1836 45.2841 37.1836C45.0951 37.1836 44.9061 37.2124 44.7171 37.2701C44.5281 37.3219 44.3363 37.4141 44.1417 37.5467C44.0417 37.6158 43.9471 37.6447 43.8582 37.6331C43.7748 37.6216 43.6998 37.5841 43.6331 37.5207C43.5719 37.4574 43.5302 37.3796 43.508 37.2873C43.4858 37.1951 43.4885 37.1029 43.5163 37.0107C43.5497 36.9127 43.6164 36.8292 43.7165 36.76C43.9555 36.5929 44.2223 36.4661 44.5169 36.3797C44.8171 36.2932 45.1173 36.25 45.4175 36.25C45.84 36.25 46.1958 36.3163 46.4848 36.4488C46.7739 36.5814 46.9935 36.7744 47.1436 37.028C47.2937 37.2816 47.3687 37.5899 47.3687 37.953C47.3687 38.195 47.3298 38.4313 47.252 38.6618C47.1797 38.8923 47.0657 39.1257 46.9101 39.362C46.76 39.5983 46.5627 39.849 46.3181 40.1141L44.7504 41.8084V41.5145H47.2019C47.352 41.5145 47.466 41.552 47.5438 41.6269C47.6216 41.7018 47.6606 41.8142 47.6606 41.964C47.6606 42.1139 47.6216 42.2291 47.5438 42.3098C47.466 42.3905 47.352 42.4308 47.2019 42.4308H44.1334Z" stroke="#FF9F43" stroke-width="0.4"/>
                        <path d="M51.468 42.5C51.3012 42.5 51.1706 42.4539 51.0761 42.3617C50.9816 42.2637 50.9343 42.1254 50.9343 41.9467V41.2725H48.8747C48.7024 41.2725 48.5634 41.235 48.4578 41.1601C48.3577 41.0852 48.3077 40.967 48.3077 40.8057C48.3077 40.7135 48.3299 40.6126 48.3744 40.5031C48.4244 40.3936 48.5106 40.2495 48.6329 40.0709L50.9176 36.639C50.9955 36.518 51.0816 36.4258 51.1761 36.3624C51.2706 36.299 51.379 36.2673 51.5013 36.2673C51.6459 36.2673 51.7654 36.3134 51.8599 36.4056C51.9544 36.492 52.0017 36.6304 52.0017 36.8205V40.3562H52.4102C52.5714 40.3562 52.691 40.3965 52.7688 40.4772C52.8522 40.5521 52.8939 40.6645 52.8939 40.8143C52.8939 40.9642 52.8522 41.0794 52.7688 41.1601C52.691 41.235 52.5714 41.2725 52.4102 41.2725H52.0017V41.9467C52.0017 42.1254 51.9544 42.2637 51.8599 42.3617C51.7654 42.4539 51.6348 42.5 51.468 42.5ZM50.9343 40.3562V37.6591H51.1761L49.2083 40.6501V40.3562H50.9343Z" stroke="#FF9F43" stroke-width="0.4"/>
                        <path d="M34.3961 36.875L36.4437 32.344L40.9872 30.323L36.4437 28.281L34.3961 23.75L32.3696 28.281L27.8262 30.323L32.366 32.3476L34.3961 36.875Z" fill="#FF9F43"/>
                    </svg>

                    </div>
                </li>
            </ul>
            </>
        )
    }
}

export default RewardsInfo